{% extends "base.html" %}
{% block title %}Edit Review | Byte Business{% endblock %}

{% block content %}
<div class="container">
  <section class="section auth-layout">
    <div class="auth-card">
      <h1>Edit your review</h1>
      <p class="muted" style="margin-bottom: 1rem;">Update your rating or note for this business.</p>
      <form method="POST" action="{{ url_for('main.edit_review', review_id=review.id|default(0)) }}">
        <div>
          <label for="rating">Rating</label>
          <select id="rating" name="rating" required>
            {% for value in [5,4,3,2,1] %}
            <option value="{{ value }}" {% if review.rating is defined and review.rating|int == value %}selected{% endif %}>{{ value }}</option>
            {% endfor %}
          </select>
        </div>
        <div>
          <label for="comment">Comment</label>
          <textarea id="comment" name="comment" rows="4" required>{{ review.comment|default('') }}</textarea>
        </div>
        <div class="row" style="justify-content: flex-start; gap: 0.6rem;">
          <button class="button" type="submit">Save changes</button>
          <a class="button subtle" href="{{ url_for('main.business_detail', business_id=review.business_id|default(0)) }}">Cancel</a>
        </div>
      </form>
    </div>
  </section>
</div>
{% endblock %}
